# 基础知识



---



## 期望和方差

the **expectation** of $f(x)$ , denoted by $\mathbb{E}[f]$ : the average value of some function $f(x)$ under a probability distribution $p(x)$.

for a discrete distribution
$$
\mathbb{E}[f]=\sum_{x} p(x) f(x)
$$
for a continuous distribution
$$
\mathbb{E}[f]=\int p(x) f(x) \mathrm{d} x
$$



条件概率


$$
\mathbb{E}(X|Y=y) = \sum_x x P(X=x|Y=y)
$$

$$
\begin{gather}
\mathbb{E}[S] = \sum_s s P(S=s) \\
\mathbb{E}[S|N=n] = \sum_s s P(S=s|N=n) \\
\mathbb{E}[S|N] = \sum_n n P(S|N=n) \\
\mathbb{E}[S|N] = \sum_n (S|N=n) P(N=n)
\end{gather}
$$

$$
\begin{aligned}
\mathbb{E}[\mathbb{E}[S|N]]
&= \sum_s s P\left(\sum_n n P(S=s|N=n)\right) \\
&= \sum_s s \sum_n n P(S=s|N=n)
\end{aligned}
$$


---



## Distribution 分布

### 1.Gaussian

 $X \sim \mathcal{N}(\mu, \sigma^2)$
$$
p(x)=\frac{1}{\sigma \sqrt{2 \pi}} e^{-\frac{(x - \mu)^{2}}{2 \sigma^{2}}}
$$
$E[X]=\mu, D[X]=\sigma^2$



The multivariate Gaussian distribution 多元高斯分布

 $\boldsymbol{x},\boldsymbol{\mu}$ are d-dimensional,  $\boldsymbol{x} \sim \mathcal{N}(\boldsymbol{\mu}, \boldsymbol{\Sigma})$
$$
p(\boldsymbol{x})==\frac{1}{(2 \pi)^{d / 2}|\boldsymbol{\Sigma}|^{1 / 2}} \exp \left\{-\frac{1}{2}(\boldsymbol{x}-\boldsymbol{\mu})^{T} \boldsymbol{\Sigma}^{-1}(\boldsymbol{x}-\boldsymbol{\mu})\right\}
$$
$E[\boldsymbol{x}]=\boldsymbol{\mu}, D[\boldsymbol{x}]=\boldsymbol{\Sigma}$ 

$\frac{\partial p(\boldsymbol{x})}{\partial \boldsymbol{x}}=-p(\boldsymbol{x}) \boldsymbol{\Sigma}^{-1}(\boldsymbol{x}-\boldsymbol{\mu})$

### 2.Poisson

$$
p(x=k | \lambda)=\frac{1}{k !} e^{-\lambda} \lambda^{k}
$$

$E[X] = D[X] = \lambda$



### 3.Exponential

$$
p(x | \lambda)=\lambda e^{-\lambda x}
$$

$E[x]=\frac{1}{\lambda}, D[x]=\frac{1}{\lambda^2}$





###  二项分布、泊松分布、正态分布关系

1. 泊松分布，二项分布都是离散分布；正态分布是连续分布。

2. 二项分布什么时候趋近于泊松分布，什么时候趋近于正态分布？

   这么说吧：二项分布有两个参数，一个 n 表示试验次数，一个 p 表示一次试验成功概率。
   现在考虑一个二项分布，其中试验次数 n 无限增加，而 p 是 n 的函数。
   如果 np 存在有限极限 λ，则这列二项分布就趋于参数为 λ 的 泊松分布。反之，如果 np 趋于无限大（如 p 是一个定值），则根据德莫佛-拉普拉斯(De’Moivre-Laplace)中心极限定理，这列二项分布将趋近于正态分布。

   也就是说泊松分布和正态分布都来自于二项分布

3. 实际运用中当 n 很大时一般都用正态分布来近似计算二项分布，但是如果同时 np 又比较小（比起n来说很小），那么用泊松分布近似计算更简单些，毕竟泊松分布跟二项分布一样都是离散型分布。



### 理解记忆多维高斯分布

我们先看一维的正态分布：
$$
N\left(x| \mu, \sigma^{2}\right)=\frac{1}{\sqrt{2 \pi} \sigma} \exp \left(-\frac{1}{2 \sigma^{2}}(x-\mu)^{2}\right)
$$
大家都没问题哈！

如果假设变量是相互独立的，那么可以得到变量的协方差矩阵的是对角矩阵
$$
\Sigma = \left[\begin{array}{cccc}{\sigma^2} & 0 & {\dots} & 0 \\ 0 & {\sigma^2} & {\dots} & 0 \\ {\dots} & {\dots} & {\dots} & {\dots} \\ 0 & 0 & {\dots} & {\sigma^2}\end{array}\right]
$$
x 是 d 维的向量， $\Sigma$ 是 x 的协方差矩阵
$$
N(x | u, \Sigma)=\frac{1}{(2 \pi)^{d/2}{|\Sigma|^{1 / 2}}} \exp \left[-\frac{1}{2}(x- u)^{T} \Sigma^{-1}(x-u)\right]
$$



---



## 样本估计

we have the **population mean** $\mu$ , **population variance** $\sigma^2$ 

i.e  $E[X]=\mu$                   $D[X]=E[(x-E[X])]^2=\sigma^2$

now we have the sample $x_1,x_2,\dots,x_n$ 

for each sample, $E[x_i] =\mu$ ,  $D[x_i]=\sigma^2$ 

sample mean $\overline{x}=\frac{1}{n}\sum_{i=1}^{n}x_i$  ; sample variance $S^2=\frac{1}{n-1}\sum_{i=1}^{n}(x_i-\overline{x})^2$ 

we want to see the bias between sample mean/variance and population mean/variance 

we can see the sample mean expectation:

$$
E[\overline{x}]=E[\frac{1}{n}\sum_{i=1}^{n}x_i]=\frac{1}{n}\sum_{i=1}^{n}E[x_i]=\frac{1}{n}\sum_{i=1}^{n}\mu=\mu
$$

**it is unbiased expectation** , and we can also get : 
$$
D[\overline{x}]=D[\frac{1}{n}\sum_{i=1}^{n}x_i]=\frac{1}{n^2}\sum_{i=1}^{n}D[x_i]=\frac{1}{n}\sigma^2
$$
we can see the sample variance expectation:

$$
\begin{aligned}
E[S^2]=E[\frac{1}{n-1}\sum_{i=1}^{n}(x_i-\overline{x})^2]
&=\frac{1}{n-1}\sum_{i=1}^{n}E[(x_i-\overline{x})^2]\\
&=\frac{1}{n-1}\sum_{i=1}^{n}E\left(x_i^2-2x_i\overline{x} + \overline{x}^2\right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}E[x_i^2]-2\sum_{i=1}^{n}E[x_i\overline{x}]+\sum_{i=1}^{n}E[\overline{x}^2] \right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}E[x_i^2]
-2E[\overline{x}\sum_{i=1}^{n}x_i]
+nE[\overline{x}^2] \right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}E[x_i^2]
-2E[\overline{x}n\overline{x}]
+nE[\overline{x}^2] \right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}E[x_i^2]
-2nE[\overline{x}^2]
+nE[\overline{x}^2] \right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}E[x_i^2]
-nE[\overline{x}^2] \right)\\
&=\frac{1}{n-1}\left(\sum_{i=1}^{n}(D[x_i]+{E[x_i]}^2)
-n(D[\overline{x}]+{E[\overline{x}]}^2) \right)\\
&=\frac{1}{n-1}\left(n(\sigma^2+\mu^2)
-n(\frac{1}{n}\sigma^2+\mu^2) \right)\\
&=\sigma^2
\end{aligned}
$$

**it is unbiased expectation** , so the denominator should be (n-1)

估计量的数学期望等于被估计参数的真实值，在多次重复下，它们的平均数接近所估计的参数真值 

Bias of an estimator :  is the difference between this estimator's expected value and the true value of the parameter being estimated. 






# 迹

相似矩阵的迹都相等



### 矩阵特征值之和等于矩阵的迹

矩阵A的特征方程如下：

$\operatorname{det}(\lambda I-A)=\left|\begin{array}{cccc}{\lambda-a_{11}} & {-a_{12}} & {\dots} & {-a_{1 n}} \\ {-a_{21}} & {\lambda-a_{22}} & {\dots} & {-a_{2 n}} \\ {\dots} & {\dots} & {\dots} & {\dots} \\ {-a_{n 1}} & {-a_{n 2}} & {\dots} & {\lambda-a_{n n}}\end{array}\right|$

行列式展开，如果想要 $\lambda^{n-1}$ 这一项，只有 $\left(\lambda-a_{11}\right)\left(\lambda-a_{22}\right) \ldots\left(\lambda-a_{n n}\right)$ ，

那么可以得到 $\lambda^{n-1}$ 的系数为 $-\left(a_{11}+a_{12}+\ldots+a_{n n}\right)$ ，

上面的特征方程又可以写为特征值的形式 $\operatorname{det}(\lambda I-A)=\left(\lambda-\lambda_{1}\right)\left(\lambda-\lambda_{2}\right) \ldots\left(\lambda-\lambda_{n}\right)$ ，

$\lambda^{n-1}$ 这一项的系数又恰好是 $-\left(\lambda_{1}+\lambda_{2}+\ldots+\lambda_{n}\right)$ 

所以 $\operatorname{tr}(A)=\sum_{k=1}^{n} \lambda_{k}$







## 补充

标量 $x$ 到向量 $\boldsymbol{x}$ 的变化

$x^2 \longrightarrow \boldsymbol{x}^T\boldsymbol{x}$ 

$ax \longrightarrow \boldsymbol{a}^T\boldsymbol{x}$ 

$w^Tw = \sum_j w_j^2$



## 参考

[Univariate Distribution Relationships](http://www.math.wm.edu/~leemis/2008amstat.pdf)

[https://www.math.uwaterloo.ca/~hwolkowi/matrixcookbook.pdf](https://www.math.uwaterloo.ca/~hwolkowi/matrixcookbook.pdf)



